<!-- s.ogata -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
	<link rel="stylesheet" href="css/shouter.css">
<title th:text="#{title.search.result}"></title>
</head>
<body>
<div class="background">
	<div class="text-center">
		<strong th:text="#{title.search.result}" class="text-white"></strong>
	</div>
</div>
<div class="container-fluid">
	<!-- 検索結果がある場合　-->
	<form method="post" action="/search" th:unless="${result}">
		<input type="button" onClick="checkAllBox(true)" th:value="#{btn.choose.all}" class="btn btn-primary">
		<input type="button" onClick="checkAllBox(false)" th:value="#{btn.not.choose}" class="btn btn-primary">
		<table border="1" class="table">
			<tr>
				<th></th>
				<th th:text="#{table.loginId}" class="bi bi-box-arrow-in-left"></th>
				<th th:text="#{table.userName}" class="bi bi-person-circle"></th>
				<th th:text="#{table.icon}" class="bi bi-emoji-smile"></th>
				<th th:text="#{table.profile}" class="bi bi-card-text"></th>
				<th></th>
			</tr>
			<tr th:each="obj : ${datalist}" th:switch="${obj.icon}">
				<td><input type="checkbox" name="checkbox" th:value="${obj.userId}"></td>
				<td th:text=${obj.loginId}></td>		
				<td th:text=${obj.userName}></td>
				<td th:case="icon-male"><span class="bi bi-gender-male"></span></td>
				<td th:case="icon-female"><span class="bi bi-gender-female"></span></td>
				<td th:text=${obj.profile}></td>
				<td><input type="submit" name="edit" th:value="#{btn.edit}" th:formaction="@{'/index/' + ${obj.userId}}" class="btn btn-primary"></td>
			</tr>
		</table>
		<input type="button" onClick="checkAllBox(true)" th:value="#{btn.choose.all}" class="btn btn-primary">
		<input type="button" onClick="checkAllBox(false)" th:value="#{btn.not.choose}" class="btn btn-primary">
		<div class="text-center">
			<input type="submit" th:value="#{btn.delete}"  th:formaction="@{/index}"class="btn btn-primary btn-lg">
			<input type="submit" name="back" th:value="#{btn.back}" th:formaction="@{/search}" class="btn btn-primary btn-lg">
		</div>
		<!-- 検索条件の保持 -->
		<p><input type="hidden" name="loginId" th:value="${loginId}"></p>
		<p><input type="hidden" name="userName" th:value="${userName}"></p>
		<p><input type="hidden" name="icon" th:value="${icon}"></p>
		<p><input type="hidden" name="profile" th:value="${profile}"></p>
	</form>
	<!-- 検索結果が0件だった場合-->
	<form method="post" action="/" th:if="${result}">
		<p th:text=#{error.search.result} class="error"></p>
		<input type="submit" name="back" th:value="#{btn.back}" class="btn btn-primary btn-lg">
		<!-- 検索条件の保持 -->
		<p><input type="hidden" name="loginId" th:value="${loginId}"></p>
		<p><input type="hidden" name="userName" th:value="${userName}"></p>
		<p><input type="hidden" name="icon" th:value="${icon}"></p>
		<p><input type="hidden" name="profile" th:value="${profile}"></p>
	</form>
</div>
<!-- 全選択、全解除ボタン -->
<script>
	const checkbox = document.getElementsByName("checkbox")

	function checkAllBox(trueOrFalse){
		for(i=0; i<checkbox.length; i++){
			checkbox[i].checked = trueOrFalse
		}
	}
</script>
<script src="js/bootstrap.min.js"></script>
</body>
</html>